<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Compound Interest & SIP Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #1e293b 0, #020617 50%, #000 100%);
      color: #e5e7eb;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 900px;
      background: rgba(15, 23, 42, 0.96);
      border-radius: 18px;
      padding: 24px 24px 28px;
      box-shadow: 0 24px 80px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.3);
      backdrop-filter: blur(12px);
    }

    .header {
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 10px;
      align-items: center;
    }

    .title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #f9fafb;
      letter-spacing: 0.04em;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #9ca3af;
    }

    .badge {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(52, 211, 153, 0.4);
      color: #a7f3d0;
      background: rgba(22, 101, 52, 0.3);
    }

    .grid {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 3fr);
      gap: 20px;
    }

    @media (max-width: 768px) {
      .grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: rgba(15, 23, 42, 0.9);
      border-radius: 16px;
      padding: 16px 16px 18px;
      border: 1px solid rgba(75, 85, 99, 0.8);
    }

    .card h2 {
      font-size: 0.95rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #9ca3af;
      margin-bottom: 14px;
    }

    .form-group {
      margin-bottom: 10px;
    }

    .label-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
    }

    label {
      font-size: 0.84rem;
      color: #e5e7eb;
    }

    .hint {
      font-size: 0.7rem;
      color: #9ca3af;
    }

    input, select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.95);
      color: #f9fafb;
      font-size: 0.85rem;
      outline: none;
      transition: border 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    input::placeholder {
      color: #6b7280;
    }

    input:focus, select:focus {
      border-color: #22c55e;
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.5);
      background: rgba(15, 23, 42, 1);
    }

    .row {
      display: flex;
      gap: 10px;
    }

    .row > div {
      flex: 1;
    }

    .btn-row {
      margin-top: 10px;
      display: flex;
      gap: 10px;
    }

    button {
      flex: 1;
      padding: 9px 12px;
      border-radius: 999px;
      border: none;
      font-size: 0.86rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
    }

    .btn-primary {
      background: linear-gradient(to right, #22c55e, #16a34a);
      color: #022c22;
      box-shadow: 0 10px 25px rgba(34, 197, 94, 0.4);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 35px rgba(34, 197, 94, 0.6);
    }

    .btn-secondary {
      background: rgba(31, 41, 55, 1);
      color: #e5e7eb;
      border: 1px solid rgba(75, 85, 99, 0.9);
    }

    .btn-secondary:hover {
      background: rgba(55, 65, 81, 1);
      transform: translateY(-1px);
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .results-header h3 {
      font-size: 0.9rem;
      color: #d1d5db;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .tagline {
      font-size: 0.7rem;
      color: #6b7280;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
      margin-bottom: 12px;
    }

    @media (max-width: 600px) {
      .summary-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .pill {
      background: rgba(17, 24, 39, 0.9);
      border-radius: 12px;
      padding: 10px 10px 9px;
      border: 1px solid rgba(55, 65, 81, 0.9);
    }

    .pill-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.09em;
      color: #9ca3af;
      margin-bottom: 5px;
    }

    .pill-value {
      font-size: 0.98rem;
      font-weight: 600;
      color: #f9fafb;
    }

    .pill-sub {
      font-size: 0.72rem;
      color: #9ca3af;
    }

    .pill--highlight {
      border-color: rgba(34, 197, 94, 0.7);
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.18);
    }

    .pill--danger {
      border-color: rgba(239, 68, 68, 0.7);
      box-shadow: 0 0 0 1px rgba(239, 68, 68, 0.18);
    }

    .table-wrapper {
      max-height: 220px;
      overflow: auto;
      border-radius: 12px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.9);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.78rem;
      min-width: 420px;
    }

    thead {
      position: sticky;
      top: 0;
      background: rgba(15, 23, 42, 1);
      z-index: 1;
    }

    th, td {
      padding: 6px 8px;
      text-align: right;
      white-space: nowrap;
    }

    th:first-child,
    td:first-child {
      text-align: left;
      padding-left: 12px;
    }

    th:last-child,
    td:last-child {
      padding-right: 12px;
    }

    th {
      color: #9ca3af;
      font-weight: 500;
      border-bottom: 1px solid rgba(55, 65, 81, 1);
    }

    tbody tr:nth-child(even) {
      background: rgba(15, 23, 42, 0.8);
    }

    tfoot td {
      border-top: 1px solid rgba(55, 65, 81, 1);
      font-weight: 600;
      background: rgba(17, 24, 39, 1);
    }

    .footer-note {
      margin-top: 10px;
      font-size: 0.7rem;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <div class="title">Compound Interest & SIP Calculator</div>
        <div class="subtitle">Instant projection for lump-sum & monthly investments.</div>
      </div>
      <div class="badge">100% Browser Based · Free</div>
    </div>

    <div class="grid">
      <!-- INPUT CARD -->
      <div class="card">
        <h2>Inputs</h2>

        <div class="form-group">
          <div class="label-row">
            <label for="principal">Initial Lump Sum (₹)</label>
            <span class="hint">Optional, can be 0</span>
          </div>
          <input type="number" id="principal" placeholder="e.g. 200000" min="0" step="1000" />
        </div>

        <div class="form-group">
          <div class="label-row">
            <label for="monthly">Monthly SIP (₹)</label>
            <span class="hint">Optional, can be 0</span>
          </div>
          <input type="number" id="monthly" placeholder="e.g. 20000" min="0" step="500" />
        </div>

        <div class="row">
          <div class="form-group">
            <div class="label-row">
              <label for="rate">Expected Return (% p.a.)</label>
              <span class="hint">e.g. 12</span>
            </div>
            <input type="number" id="rate" placeholder="e.g. 12" min="0" max="40" step="0.1" />
          </div>

          <div class="form-group">
            <div class="label-row">
              <label for="years">Investment Duration (Years)</label>
              <span class="hint">e.g. 10</span>
            </div>
            <input type="number" id="years" placeholder="e.g. 10" min="1" max="60" step="1" />
          </div>
        </div>

        <div class="row">
          <div class="form-group">
            <div class="label-row">
              <label for="frequency">Compounding Frequency</label>
            </div>
            <select id="frequency">
              <option value="12">Monthly</option>
              <option value="4">Quarterly</option>
              <option value="1">Yearly</option>
            </select>
          </div>

          <div class="form-group">
            <div class="label-row">
              <label for="sipTiming">SIP Timing</label>
              <span class="hint">Effect is small in long term</span>
            </div>
            <select id="sipTiming">
              <option value="end">End of period (normal)</option>
              <option value="begin">Start of period</option>
            </select>
          </div>
        </div>

        <div class="btn-row">
          <button class="btn-primary" id="btnCalc">Calculate</button>
          <button class="btn-secondary" id="btnReset">Reset</button>
        </div>
      </div>

      <!-- OUTPUT CARD -->
      <div class="card">
        <div class="results-header">
          <h3>Summary</h3>
          <span class="tagline" id="summaryTagline">Enter values & click calculate.</span>
        </div>

        <div class="summary-grid">
          <div class="pill">
            <div class="pill-label">Total Invested</div>
            <div class="pill-value" id="totalInvested">₹0</div>
            <div class="pill-sub" id="totalInvestedBreakup">Lump: ₹0 · SIP: ₹0</div>
          </div>
          <div class="pill pill--highlight">
            <div class="pill-label">Future Value</div>
            <div class="pill-value" id="futureValue">₹0</div>
            <div class="pill-sub" id="futureAtRate">At 0% for 0 yrs</div>
          </div>
          <div class="pill pill--danger">
            <div class="pill-label">Wealth Gain</div>
            <div class="pill-value" id="interestEarned">₹0</div>
            <div class="pill-sub" id="interestPercent">0% gain</div>
          </div>
        </div>

        <div class="results-header" style="margin-top: 10px;">
          <h3>Yearly Projection</h3>
          <span class="tagline">Approximate year-end values.</span>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Year</th>
                <th>Invested (₹)</th>
                <th>Value (₹)</th>
                <th>Gain (₹)</th>
              </tr>
            </thead>
            <tbody id="projectionBody">
              <tr>
                <td colspan="4" style="text-align:center; padding: 16px;">No data yet.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="footer-note">
          This calculator is for illustration only and does not guarantee returns.
        </div>
      </div>
    </div>
  </div>

  <script>
    function formatMoney(value) {
      if (!isFinite(value)) return "₹0";
      return "₹" + value.toLocaleString("en-IN", {
        maximumFractionDigits: 0
      });
    }

    function calculateFV(principal, monthly, ratePa, years, n, sipTiming) {
      const r = ratePa / 100;
      const totalPeriods = n * years;
      const periodRate = n > 0 ? r / n : 0;

      let fvLump = principal;
      let fvSip = 0;
      let investedSip = monthly * totalPeriods;

      if (periodRate === 0) {
        // No growth
        fvLump = principal;
        fvSip = investedSip;
      } else {
        // Lump sum
        fvLump = principal * Math.pow(1 + periodRate, totalPeriods);

        // SIP - annuity formula
        const annuityFactor = (Math.pow(1 + periodRate, totalPeriods) - 1) / periodRate;

        if (sipTiming === "begin") {
          fvSip = monthly * annuityFactor * (1 + periodRate);
        } else {
          // end of period (normal)
          fvSip = monthly * annuityFactor;
        }
      }

      const fvTotal = fvLump + fvSip;
      const investedTotal = principal + investedSip;
      const gain = fvTotal - investedTotal;

      return {
        fvTotal,
        fvLump,
        fvSip,
        investedTotal,
        investedLump: principal,
        investedSip,
        gain
      };
    }

    function buildProjection(principal, monthly, ratePa, years, n, sipTiming) {
      const rows = [];
      for (let y = 1; y <= years; y++) {
        const partialYears = y;
        const result = calculateFV(principal, monthly, ratePa, partialYears, n, sipTiming);
        rows.push({
          year: y,
          invested: result.investedTotal,
          value: result.fvTotal,
          gain: result.gain
        });
      }
      return rows;
    }

    function renderProjection(rows) {
      const tbody = document.getElementById("projectionBody");
      tbody.innerHTML = "";

      if (!rows || rows.length === 0) {
        const tr = document.createElement("tr");
        const td = document.createElement("td");
        td.colSpan = 4;
        td.style.textAlign = "center";
        td.style.padding = "16px";
        td.textContent = "No data.";
        tr.appendChild(td);
        tbody.appendChild(tr);
        return;
      }

      rows.forEach(row => {
        const tr = document.createElement("tr");

        const tdYear = document.createElement("td");
        tdYear.textContent = row.year;
        tdYear.style.fontWeight = row.year === rows.length ? "600" : "400";

        const tdInvested = document.createElement("td");
        tdInvested.textContent = row.invested.toLocaleString("en-IN", { maximumFractionDigits: 0 });

        const tdValue = document.createElement("td");
        tdValue.textContent = row.value.toLocaleString("en-IN", { maximumFractionDigits: 0 });

        const tdGain = document.createElement("td");
        tdGain.textContent = row.gain.toLocaleString("en-IN", { maximumFractionDigits: 0 });

        tr.appendChild(tdYear);
        tr.appendChild(tdInvested);
        tr.appendChild(tdValue);
        tr.appendChild(tdGain);

        tbody.appendChild(tr);
      });
    }

    document.getElementById("btnCalc").addEventListener("click", () => {
      const principal = parseFloat(document.getElementById("principal").value) || 0;
      const monthly = parseFloat(document.getElementById("monthly").value) || 0;
      const ratePa = parseFloat(document.getElementById("rate").value);
      const years = parseFloat(document.getElementById("years").value);
      const n = parseInt(document.getElementById("frequency").value, 10);
      const sipTiming = document.getElementById("sipTiming").value;

      if (isNaN(ratePa) || isNaN(years) || years <= 0) {
        alert("Please enter a valid rate of return and number of years.");
        return;
      }

      if (principal <= 0 && monthly <= 0) {
        alert("Please enter at least a lump sum or monthly SIP amount.");
        return;
      }

      const result = calculateFV(principal, monthly, ratePa, years, n, sipTiming);

      // Update summary
      document.getElementById("totalInvested").textContent =
        formatMoney(result.investedTotal);
      document.getElementById("totalInvestedBreakup").textContent =
        `Lump: ${formatMoney(result.investedLump)} · SIP: ${formatMoney(result.investedSip)}`;

      document.getElementById("futureValue").textContent =
        formatMoney(result.fvTotal);
      document.getElementById("futureAtRate").textContent =
        `At ${ratePa}% for ${years} year${years > 1 ? "s" : ""}`;

      document.getElementById("interestEarned").textContent =
        formatMoney(result.gain);

      const gainPct = result.investedTotal > 0
        ? (result.gain / result.investedTotal) * 100
        : 0;

      document.getElementById("interestPercent").textContent =
        `${gainPct.toFixed(1)}% gain`;

      document.getElementById("summaryTagline").textContent =
        "Projection based on constant yearly return (no taxes, no costs).";

      // Projection table
      const projection = buildProjection(principal, monthly, ratePa, years, n, sipTiming);
      renderProjection(projection);
    });

    document.getElementById("btnReset").addEventListener("click", () => {
      document.getElementById("principal").value = "";
      document.getElementById("monthly").value = "";
      document.getElementById("rate").value = "";
      document.getElementById("years").value = "";
      document.getElementById("frequency").value = "12";
      document.getElementById("sipTiming").value = "end";

      document.getElementById("totalInvested").textContent = "₹0";
      document.getElementById("totalInvestedBreakup").textContent = "Lump: ₹0 · SIP: ₹0";
      document.getElementById("futureValue").textContent = "₹0";
      document.getElementById("futureAtRate").textContent = "At 0% for 0 yrs";
      document.getElementById("interestEarned").textContent = "₹0";
      document.getElementById("interestPercent").textContent = "0% gain";
      document.getElementById("summaryTagline").textContent = "Enter values & click calculate.";

      renderProjection([]);
    });
  </script>
</body>
</html>
